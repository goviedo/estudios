* https://www.sslforfree.com/
* https://stackoverflow.com/questions/76528597/when-i-set-up-ssl-tls-in-react-and-spring-using-cloudflare-no-axios-requests-ar
* https://www.youtube.com/watch?v=ur_WNtpRtSo
* https://brytecode.be/articles/using-http-2-in-your-spring-boot-application/
* https://www.youtube.com/watch?v=uSm3xepvUNM
* ZeroSSL ya logueado: https://manage.sslforfree.com/certificate/verify/63c091f0d743d642c45b5004cde91925
* [# Deploy a Spring Boot Application to App Engine Java 11](https://www.youtube.com/watch?v=qx_T6-EKkBE
Me di de alta con goviedo.sevenit@gmail.com / C..

![[Pasted image 20231114141155.png]]

Me parece que carezco de REST API Access.
Igual probaremos:

![[Pasted image 20231114141341.png]]

# ZeroSSL

Parece que este funciona mejor

https://manage.sslforfree.com/certificate/install/e5ddb4096db54ed2d9b611740d3a0434

![[Pasted image 20231115195904.png]]

## Instalacion
https://medium.com/@JavaArchitect/configure-ssl-certificate-with-spring-boot-b707a6055f3

En el directorio donde se encuentran los certificados

```
openssl pkcs12 -export -in ./certificate.crt -inkey ./private.key -name limachelocales -out ./p12-format/limache-locales-PKCS-12.p12 -name limache-locales
```

El password es C...$

Se creo una carpeta p12-format para que aloje el certificado con formato PKCS-12.

```yaml
server:
  port: 16000
  http2:
   enabled: true
  ssl:
   key-store-type: PKCS12
   key-store: classpath:limache-locales-PKCS-12.p12
   key-store-password: <MiPassword>
   key-alias: limache-locales
  error:
    include-message: always
```
Notar classpath y key-alias, el key-alias va acorde con el -name del comando openssl

### Innecesario lo siguiente al parecer

Segun una respuesta del articulo de medium, lo siguiente es absolutamente innecesario:

Ahora usamos keytool para generar un JKS Store

```bash
keytool -importkeystore -deststorepass myPassPhrase -destkeystore p12-format/limache-locales-keystore.jks -srckeystore ./p12-format/limache-locales-PKCS-12.p12 -srcstoretype PKCS12
```
Donde limache-locales-keystore.jks es la generacion del archivo siendo p12-format/expertwall-free-PKCS-12.p12 el archivo que se genero con openssl

```bash
keytool -import -alias bundle -trustcacerts -file free/ca_bundle.crt -keystore free/expertwall-keystore.jks
```

# Instalar certificado en otra máquina. Caso aplicacion Admin

Si vamos a utilizar la aplicación admin, que es otra aplicación que invoca a los servicios Rest desde Java con Vaadin, entonces debemos instalar el certificado en esa máquina como sigue:

```bash
sudo keytool -import -trustcacerts -alias limache-locales -file ./ca_bundle.crt -keystore /usr
/lib/jvm/java-17-openjdk-armhf/lib/security/cacerts -storepass changeit
```

Como nos damos cuenta, estoy apuntando al directorio en donde se encuentra la version de java que estoy utilizando. Tambien notar que changeit no coincide con el password seteado para la creacion del certificado, lo cual es muy raro, pero en fin.

Y debemos usar el archivo

```bash
ca_bundle.crt
```

que se había creado previamente.
# Borrar un certificado

sudo keytool  -delete -alias limache-locales -keystore /usr/lib/jvm/java-17-openjdk-armhf/lib/
security/cacerts